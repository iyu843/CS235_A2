<section id="results_section">
<table>
  <thead>
    <tr class="table_header_row">
      <th>Title</th>
      <th>Year</th>
      <th>Actors</th>
      <th>Genres</th>
    </tr>
  </thead>
  <tbody>
  {% for i in range(results_list|length) %}
    <tr>
      <td>{{results_list[i]['title']}}</td>
      <td>{{results_list[i]['year']}}</td>
      <td style="white-space:pre;">{{results_list[i]['actors']}}</td>
      <td style="white-space:pre;">{{results_list[i]['genres']}}</td>
    </tr>
  {% endfor %}
  </tbody>
</table>
<div id="pagination_links">
{% if max_page > 0 %}
  {% if max_page <= 5 %}
    {% for i in range(max_page-1) %}
      <a href={{page_hrefs[i]}} {{'class="selected"' if i+1 == page_num}}>{{i+1}}</a>&nbsp
    {% endfor %}
  {% else %}
    <a href={{page_hrefs[0]}} {{'class="selected"' if 1 == page_num}}>1</a>&nbsp
    {% if page_num <= 3 %}
      <a href={{page_hrefs[1]}} {{'class="selected"' if 2 == page_num}}>2</a>&nbsp
      <a href={{page_hrefs[2]}} {{'class="selected"' if 3 == page_num}}>3</a>&nbsp
      <a href={{page_hrefs[3]}} {{'class="selected"' if 4 == page_num}}>4</a>&nbsp..&nbsp
    {% elif page_num > max_page-3 %}
      ..&nbsp<a href={{page_hrefs[max_page-4]}} {{'class="selected"' if max_page-3 == page_num}}>{{max_page-3}}</a>&nbsp
      <a href={{page_hrefs[max_page-3]}} {{'class="selected"' if max_page-2 == page_num}}>{{max_page-2}}</a>&nbsp
      <a href={{page_hrefs[max_page-2]}} {{'class="selected"' if max_page-1 == page_num}}>{{max_page-1}}</a>&nbsp
    {% else %}
      ..&nbsp<a href={{page_hrefs[page_num-2]}}>{{page_num-1}}</a>&nbsp
      <a href={{page_hrefs[page_num-1]}} class="selected">{{page_num}}</a>&nbsp
      <a href={{page_hrefs[page_num]}}>{{page_num+1}}</a>&nbsp..
    {% endif %}
  {% endif %}
  <a href={{page_hrefs[max_page-1]}} {{'class="selected"' if max_page == page_num}}>{{max_page}}</a>
{% endif %}
</div>
</section>
